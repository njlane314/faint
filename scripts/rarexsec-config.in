#!/usr/bin/env bash
set -euo pipefail
p="${RAREXSEC_PREFIX:-$(cd "$(dirname "${BASH_SOURCE[0]}")"/.. && pwd)}"
l="$p/lib"
i="$p/include"
if [[ $# -eq 0 ]]; then
  echo "usage: rarexsec-config [--prefix|--libdir|--includedir|--cflags|--libs|--version|--git-revision|--cxx-std|--use-root]"
  exit 0
fi
for a in "$@"; do
  case "$a" in
    --prefix)       echo "$p" ;;
    --libdir)       echo "$l" ;;
    --includedir)   echo "$i" ;;
    --cflags)       echo "-I$i" ;;
    --libs)         echo "-L$l -lrarexsec" ;;
    --version)      echo "@@VERSION@@" ;;
    --git-revision) echo "@@GIT_REVISION@@" ;;
    --cxx-std)      echo "@@CXX_STD@@" ;;
    --use-root)     echo "@@USE_ROOT@@" ;;
    -h|--help)      echo "usage: rarexsec-config [options]"; exit 0 ;;
    *)              echo "rarexsec-config: unknown option '$a'" >&2; exit 1 ;;
  esac
done
